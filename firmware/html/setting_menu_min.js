window.mst||(window.mst={});mst.view_softkey_setting=function(){var t,i,e,r,u,f,n="";n+="<b style='font-size: 30px;'>ソフトウェアキー<\/b><br><br><br><br>";f=0;for(i in mst.setting_data.soft_layers){r=mst.setting_data.soft_layers[i];for(t in r.keys)u=r.keys[t],e=u.name?u.name:t,n+="<a href='#' class='update_button' style='width: 320px;height: 70px; background: #78d3df; font-size: 35px; display: inline-block;' onClick='javascript:mst.soft_key_click(\""+i+'","'+t+"\");return false;'>"+e+"<\/a>　",n+="<a href='#' class='update_button' style='width: 80px;height: 70px; background: #78d3df; font-size: 35px; display: inline-block;' onClick='javascript:mst.soft_key_delete(\""+i+'","'+t+"\");return false;'>削除<\/a>",n+="<br><br>",f++}n+="<div id='soft_key_add_div' style='text-align: right;'>";f<6&&(n+="<a href='#' class='update_button' onClick='javascript:mst.add_soft_key(0, -1);return false;'>キー追加<\/a><br><br>");n+="<\/div>";n+="<br><br><br><br><br><br>";n+="<center><div id='softkey_btn'>";n+="<a href='#' class='button' onClick='javascript:mst.view_detail_setting();return false;'>完了<\/a>";n+="<\/div><\/center>";mst.edit_soft_layer=-1;mst.key_edit_kid=-1;mst.key_edit_type=1;set_html("setting_box",n);set_html("info_box","");mst.view_box(["info_box","setting_box"])};mst.soft_key_click=function(n,t){mst.key_edit_type=1;mst.edit_soft_layer=mst.str_id2num(n);mst.key_edit_kid=mst.str_id2num(t);mst.key_edit_data=obj_clone(mst.setting_data.soft_layers[n].keys[t]);mst.view_key_setting(mst.key_edit_kid);set_html("info_box","")};mst.add_soft_key=function(n,t){var i,r;if(mst.setting_data.soft_layers["layer_"+n]||(mst.setting_data.soft_layers["layer_"+n]={name:"レイヤー"+n,keys:{}}),r=mst.setting_data.soft_layers["layer_"+n],t>=0&&!r.keys["key_"+t]){r.keys["key_"+t]={name:"button"+t,press:{action_type:0}};mst.soft_key_click("layer_"+n,"key_"+t);return}for(i=0;;){if(r.keys["key_"+i]){i++;continue}r.keys["key_"+i]={name:"button"+i,press:{action_type:0}};mst.soft_key_click("layer_"+n,"key_"+i);break}};mst.soft_key_delete=function(n,t){var i,r,u={};i=0;for(r in mst.setting_data.soft_layers[n].keys)r!=t&&(u["key_"+i]=mst.setting_data.soft_layers[n].keys[r],i++);mst.setting_data.soft_layers[n].keys=u;mst.view_softkey_setting()}